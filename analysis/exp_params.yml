
general:
  tasks: ['pRF','FA', 'flicker']
  colors: ['color_green', 'color_red']
  current_dir: 'local' #'local' #'behav_lab' #local'

window: # refers to the parameters for the Psychopy Window class
  size: [1920, 1080] #[1680, 1050]
  display: 'square' # or 'rectangle', defines if square [vRes vRes] or rectangle [hRes vRes] display

monitor:
  name: default
  width: 69.8 #69  # width of monitor (in cm)
  height: 39.3 #41 # height of monitor (in cm)
  distance: 210 #225  # distance of participant from monitor (in cm)

stimuli:
  gab_ratio: 0.66 #0.62 # ratio to multiply by gab diameter, to avoid empty spaces in grid
  element_size: 0.5 #1.1 #0.55 #0.4 #0.2 # degrees

  ori_shift_rate: 5 #'TR' #0.83 #.25 #5 # Hz, rate of element orientation change

  pos_jitter: 0.03 #0.06 #degrees, x,y position jiter to add to gabor center 


feature:
  bar_width_ratio: 0.125 # ratio of the screen res
  mini_blocks: 4

  empty_TR: 12 #5
  cue_TR: 3

  total_number_TR: 408 # of task
  dummy_TR: 5 # we used extra 5 TRs in beginning that should be disregarded, so file will be 413

  crop: False # if we want to crop the functionals further
  crop_TR: 8 # number of functionals to crop

  bars_phase_dur: 0.6 # phase duration for displaying bars (in seconds) 

  cue_width: .2 #.55
  cue_height: .5 #1.1
  cue_contrast: 0.6

  num_bars: 4
  num_bar_position: [6,6] #[8,8]

  conditions: ['red_vertical','red_horizontal','green_vertical','green_horizontal'] # all conditions to be attended during feature trial

  bar_pass_direction: ['empty','cue_0','empty','mini_block_0',
                       'empty','cue_1','empty','mini_block_1',
                       'empty','cue_2','empty','mini_block_2',
                       'empty','cue_3','empty','mini_block_3','empty']

prf:
  bar_width_ratio: 0.125 #0.0625 # ratio of the screen res

  num_TRs:
    empty_long: 20
    empty: 12
    L-R: 17
    R-L: 17
    U-D: 17
    D-U: 17

  total_number_TR: 220 # of task
  dummy_TR: 5 # we used extra 5 TRs in beginning that should be disregarded, so file will be 225

  crop: True # if we want to crop the functionals further
  crop_TR: 8 # number of functionals to crop

  flick_rate: 'TR' #10 # Hz, rate of change of features in bar

  bar_pass_direction: ['empty_long','L-R','U-D','empty','R-L','D-U','empty_long','D-U','R-L','empty','U-D','L-R','empty_long'] 

flicker:
  bar_width_ratio: 0.125 # ratio of the screen res

  bar_ecc_index: [1,2,2,1,1,2,1,2] # eccentricity index for bar positions: 0 - furthest ecc; 3 - closest ecc

  flick_rate: 30 # Hz, flicker rate of color for square

  max_trial_time: 5 # max trial time (in minutes)

  backgr_contrast: 0 # contrast for elements, 0 = no background elements shown
  increment: 0.025 # increment value for luminance per button press

  modulated_condition: ['color_green'] # color condition modulated by flicker task


mri: # refers to the Psychopy SyncGenerator class
  TR: 1.2  # seconds between volume acquisitions
  sync: 't'  # character used as flag for sync timing

  space: 'fsLR_den-170k' #'fsaverage' # space of the files to be used in analysis
  file_ext:  '_bold.dtseries.nii' #'_bold.func.gii' # file extension
  acq: 'nordic' #'nordic' # "acquisition" type to use

  filtering:
    type: 'dc' #'HPgauss' # None
    cut_off_hz: 0.01 #0.014
    first_modes_to_remove: 5

    window_length: 201
    polyorder: 3
    highpass: True
    add_mean: True


  paths:
    local: 
      root: '/Volumes/Verissimo_Seagate_Hub_Plus/Projects/FAM/PILOT_DATA'
      matlab: '/Applications/MATLAB_R2019a.app/bin/matlab'
      derivatives: '/Volumes/Verissimo_Seagate_Hub_Plus/Projects/FAM/PILOT_DATA/derivatives'
      sourcedata: '/Volumes/Verissimo_Seagate_Hub_Plus/Projects/FAM/PILOT_DATA/sourcedata'
    
    lisa:
      root: '/project/projects_verissimo/FAM/PILOT_DATA'
      matlab: ''
      derivatives: '/scratch/derivatives'
      sourcedata: '/scratch/sourcedata'

    aeneas:
      root: '/home/shared/2021/visual/FAM/PILOT_DATA'
      derivatives: '/home/shared/2021/visual/FAM/PILOT_DATA/derivatives'
      
    behav_lab:
      root: '/home/verissimo/Experiments/FAM/feature_attention_mapping/output'

  fitting:
    pRF:
      run: 'median' 
      total_chunks: {'fsaverage': 83, 'T1w': 89, 'fsLR_den-170k': 54} # total number of chunks to split the data, depends on space of files

      fit_model: 'gauss' #'css'

      grid_nr: 40 # number of grid steps
      min_eccen: 0.2
      max_eccen: 15

      min_size: 0.2
      max_size: 15

      min_n: 0.01
      max_n: 1.1

      N_PROCS: 4

    



eyetracking:

  HP_pupil_f: 0.01
  LP_pupil_f: 6.0
  sampling_freq: 1000

  downsampling: 10 # downsampling rate

  sacc_thresh : 6 # 5 # lambda, median-based standard deviations from the median estimator
  minimum_saccade_duration: 0.006 # 0.016 # minimum duration to consider saccade (ms)

  tasks: ['FA'] # task names with eyetracking data to analyse

keys: # keys to press, valid for laptop, scanner and behav lab
  right_index: ['right','b', 2, '2','num_2']
  left_index: ['left','e', 1, '1','num_1']
  flicker_continue: ['space','r', '4', 4, 'num_4']

  

plotting:
  # define costum palette
  cond_colors : 
    green_horizontal : (0,1,0), #(0,0.5412,0),
    green_vertical : (0,1,0), #(0,0.5412,0),
    red_horizontal : (1,0,0), #(0.6588,0,0),
    red_vertical : (1,0,0)} #(0.6588,0,0)}

  pycortex_sub: 'hcp_999999' #'fsaverage'

  ROI_pal: 
    V1: [0.03137255, 0.11372549, 0.34509804]
    V2: [0.14136101, 0.25623991, 0.60530565]
    V3: [0.12026144, 0.50196078, 0.72156863]
    V3AB: [0.25871588, 0.71514033, 0.76807382]
    hV4: [0.59215686, 0.84052288, 0.72418301]
    LO: [0.88207612, 0.9538639 , 0.69785467]
    IPS0: [0.99764706, 0.88235294, 0.52862745]
    IPS1: [0.99529412, 0.66901961, 0.2854902] 
    IPS2+: [0.83058824, 0.06117647, 0.1254902]
    sPCS: [0.88221453, 0.83252595, 0.91109573]
    iPCS: [0.87320261, 0.13071895, 0.47320261]
  
  ROIs: {'fsaverage': ['V1','V2','V3','V3AB','hV4','LO','IPS0','IPS1','IPS2+','sPCS','iPCS'], 
        'fsLR_den-170k': ['V1','V2','V3']}

  rsq_threshold: 0.12




